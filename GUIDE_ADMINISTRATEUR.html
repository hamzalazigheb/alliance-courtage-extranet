<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Administrateur - Alliance Courtage Extranet</title>
    <style>
        @page {
            margin: 2.5cm;
        }
        body {
            font-family: 'Calibri', 'Arial', sans-serif;
            font-size: 11pt;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #1D4ED8;
            font-size: 24pt;
            font-weight: bold;
            margin-top: 24pt;
            margin-bottom: 12pt;
            page-break-after: avoid;
        }
        h2 {
            color: #2563EB;
            font-size: 18pt;
            font-weight: bold;
            margin-top: 18pt;
            margin-bottom: 10pt;
            page-break-after: avoid;
        }
        h3 {
            color: #3B82F6;
            font-size: 14pt;
            font-weight: bold;
            margin-top: 14pt;
            margin-bottom: 8pt;
            page-break-after: avoid;
        }
        h4 {
            color: #60A5FA;
            font-size: 12pt;
            font-weight: bold;
            margin-top: 12pt;
            margin-bottom: 6pt;
        }
        p {
            margin-bottom: 8pt;
            text-align: justify;
        }
        ul, ol {
            margin-left: 20pt;
            margin-bottom: 10pt;
        }
        li {
            margin-bottom: 4pt;
        }
        strong {
            font-weight: bold;
            color: #1D4ED8;
        }
        code {
            background-color: #F3F4F6;
            padding: 2pt 4pt;
            border-radius: 3pt;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
        }
        pre {
            background-color: #F3F4F6;
            padding: 8pt;
            border-radius: 4pt;
            border-left: 4pt solid #1D4ED8;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
        }
        hr {
            border: none;
            border-top: 1pt solid #D1D5DB;
            margin: 20pt 0;
        }
        .toc {
            background-color: #F9FAFB;
            padding: 12pt;
            margin-bottom: 20pt;
            border-left: 4pt solid #1D4ED8;
        }
        .toc ul {
            list-style-type: none;
            margin-left: 0;
        }
        .toc li {
            margin-bottom: 6pt;
        }
        .checklist {
            list-style-type: none;
            margin-left: 0;
        }
        .checklist li:before {
            content: "‚òê ";
            margin-right: 8pt;
        }
        .warning {
            background-color: #FEF3C7;
            border-left: 4pt solid #F59E0B;
            padding: 8pt;
            margin: 12pt 0;
        }
        .info {
            background-color: #DBEAFE;
            border-left: 4pt solid #3B82F6;
            padding: 8pt;
            margin: 12pt 0;
        }
    </style>
</head>
<body>

<h1>Guide Administrateur - Alliance Courtage Extranet</h1>

<div class="toc">
<h2>Table des mati√®res</h2>
<ul>
    <li><a href="#introduction">1. Introduction</a></li>
    <li><a href="#acces">2. Acc√®s administrateur</a></li>
    <li><a href="#utilisateurs">3. Gestion des utilisateurs</a></li>
    <li><a href="#contenu">4. Gestion du contenu</a></li>
    <li><a href="#formations">5. Gestion des formations</a></li>
    <li><a href="#reservations">6. Gestion des r√©servations</a></li>
    <li><a href="#notifications">7. Gestion des notifications</a></li>
    <li><a href="#maintenance">8. Maintenance</a></li>
</ul>
</div>

<h2 id="introduction">üéØ Introduction</h2>

<p>Ce guide est destin√© aux administrateurs de la plateforme Alliance Courtage Extranet. Il d√©crit toutes les fonctionnalit√©s administratives disponibles pour g√©rer les utilisateurs, le contenu et le syst√®me.</p>

<hr>

<h2 id="acces">üîê Acc√®s administrateur</h2>

<h3>Connexion</h3>

<ol>
    <li><strong>Acc√©dez √† la page de connexion admin</strong> : <code>/manage</code> ou via le lien "Espace Admin"</li>
    <li><strong>Identifiants</strong> :
        <ul>
            <li><strong>Email</strong> : admin@alliance-courtage.fr (ou selon votre configuration)</li>
            <li><strong>Mot de passe</strong> : [Fourni lors de l'installation]</li>
        </ul>
    </li>
    <li><strong>Premi√®re connexion</strong> :
        <ul>
            <li>Changez imm√©diatement le mot de passe par d√©faut</li>
            <li>Configurez votre profil administrateur</li>
            <li>V√©rifiez les param√®tres syst√®me</li>
        </ul>
    </li>
</ol>

<h3>S√©curit√©</h3>

<ul>
    <li><strong>Mot de passe fort</strong> : Minimum 12 caract√®res, majuscules, minuscules, chiffres, caract√®res sp√©ciaux</li>
    <li><strong>Authentification √† deux facteurs</strong> : Recommand√© si disponible</li>
    <li><strong>Journalisation</strong> : Toutes les actions administratives sont logg√©es</li>
</ul>

<hr>

<h2 id="utilisateurs">üë• Gestion des utilisateurs</h2>

<h3>Cr√©er un utilisateur</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Utilisateurs" ‚Üí "Ajouter un utilisateur"</li>
    <li><strong>Formulaire</strong> :
        <ul>
            <li>Nom : Nom de famille</li>
            <li>Pr√©nom : Pr√©nom</li>
            <li>Email : Adresse email professionnelle</li>
            <li>Mot de passe : Mot de passe temporaire (√† changer √† la premi√®re connexion)</li>
            <li>R√¥le : Utilisateur (par d√©faut)</li>
            <li>T√©l√©phone : (optionnel)</li>
            <li>Adresse : (optionnel)</li>
        </ul>
    </li>
    <li><strong>R√¥les disponibles</strong> :
        <ul>
            <li><strong>Admin</strong> : Acc√®s complet √† toutes les fonctionnalit√©s</li>
            <li><strong>Utilisateur</strong> : Acc√®s standard aux fonctionnalit√©s utilisateur</li>
        </ul>
    </li>
    <li><strong>Apr√®s cr√©ation</strong> :
        <ul>
            <li>L'utilisateur recevra un email avec ses identifiants</li>
            <li>Il devra changer son mot de passe √† la premi√®re connexion</li>
        </ul>
    </li>
</ol>

<h3>Modifier un utilisateur</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Utilisateurs"</li>
    <li>Trouvez l'utilisateur dans la liste</li>
    <li>Cliquez sur "Modifier"</li>
    <li>Mettez √† jour les informations n√©cessaires</li>
    <li>Sauvegardez</li>
</ol>

<h3>Supprimer un utilisateur</h3>

<div class="warning">
<p><strong>‚ö†Ô∏è Attention</strong> : La suppression d'un utilisateur est irr√©versible et supprimera toutes ses donn√©es associ√©es.</p>
</div>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Utilisateurs"</li>
    <li>Trouvez l'utilisateur</li>
    <li>Cliquez sur "Supprimer"</li>
    <li>Confirmez la suppression</li>
</ol>

<h3>R√©initialiser un mot de passe</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Utilisateurs"</li>
    <li>Trouvez l'utilisateur</li>
    <li>Cliquez sur "R√©initialiser mot de passe"</li>
    <li>Un nouveau mot de passe temporaire sera g√©n√©r√© et envoy√© par email</li>
</ol>

<hr>

<h2 id="contenu">üìÑ Gestion du contenu</h2>

<h3>Documents Financiers</h3>

<h4>Ajouter un document financier</h4>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Documents Financiers" ‚Üí "Ajouter"</li>
    <li><strong>Formulaire</strong> :
        <ul>
            <li>Titre : Nom du document</li>
            <li>Description : Description d√©taill√©e (optionnel)</li>
            <li>Cat√©gorie : S√©lectionner parmi les cat√©gories disponibles</li>
            <li>Sous-cat√©gorie : (optionnel)</li>
            <li>Ann√©e : Ann√©e du document</li>
            <li>Fichier : S√©lectionner le fichier PDF (max 50MB)</li>
        </ul>
    </li>
    <li><strong>Processus</strong> :
        <ul>
            <li>Remplissez le formulaire</li>
            <li>S√©lectionnez le fichier PDF</li>
            <li>Cliquez sur "Uploader"</li>
            <li>Une notification globale est automatiquement envoy√©e √† tous les utilisateurs</li>
        </ul>
    </li>
</ol>

<h3>CMS (Content Management System)</h3>

<h4>G√©rer le contenu des pages</h4>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "CMS"</li>
    <li><strong>Pages disponibles</strong> :
        <ul>
            <li><strong>Accueil</strong> : Contenu de la page d'accueil (titre, actualit√©s, services)</li>
            <li><strong>Gamme Produits</strong> : Contenu de la page produits</li>
            <li><strong>Gamme Financi√®re</strong> : Contenu de la page gamme financi√®re</li>
            <li><strong>Rencontres</strong> : Gestion des rencontres (prochaines et historiques)</li>
            <li><strong>Partenaires</strong> : Contenu de la page partenaires</li>
            <li><strong>R√©glementaire</strong> : Gestion du contenu r√©glementaire</li>
        </ul>
    </li>
    <li><strong>Upload d'images</strong> :
        <ul>
            <li>Cliquez sur "Uploader une image" pour les banni√®res</li>
            <li>Les images sont converties en base64 et stock√©es dans la base de donn√©es</li>
            <li>Format accept√© : JPEG, PNG, GIF, WebP (max 10MB)</li>
        </ul>
    </li>
    <li><strong>Sauvegarde</strong> :
        <ul>
            <li>Modifiez le contenu dans l'√©diteur</li>
            <li>Cliquez sur "Sauvegarder"</li>
            <li>Les modifications sont imm√©diatement visibles sur le site public</li>
        </ul>
    </li>
</ol>

<hr>

<h2 id="formations">üéì Gestion des formations</h2>

<h3>Consulter toutes les formations</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Formations"</li>
    <li><strong>Filtres disponibles</strong> :
        <ul>
            <li><strong>Toutes</strong> : Toutes les formations</li>
            <li><strong>En attente</strong> : Formations en attente de validation</li>
            <li><strong>Approuv√©es</strong> : Formations approuv√©es</li>
            <li><strong>Rejet√©es</strong> : Formations rejet√©es</li>
        </ul>
    </li>
</ol>

<h3>Approuver une formation</h3>

<ol>
    <li>Trouvez la formation dans la liste (statut "En attente")</li>
    <li>Cliquez sur "‚úÖ Approuver"</li>
    <li>La formation est imm√©diatement approuv√©e</li>
    <li>L'utilisateur re√ßoit une notification de confirmation</li>
</ol>

<h3>Rejeter une formation</h3>

<ol>
    <li>Trouvez la formation dans la liste</li>
    <li>Cliquez sur "‚ùå Rejeter"</li>
    <li>Entrez une raison de rejet (optionnel mais recommand√©)</li>
    <li>Confirmez le rejet</li>
    <li>L'utilisateur re√ßoit une notification avec la raison du rejet</li>
</ol>

<h3>T√©l√©charger le document d'une formation</h3>

<ol>
    <li>Dans la liste des formations, cliquez sur "T√©l√©charger" √† c√¥t√© du document</li>
    <li>Le fichier PDF se t√©l√©charge automatiquement</li>
    <li>Vous pouvez v√©rifier le contenu avant approbation</li>
</ol>

<hr>

<h2 id="reservations">üíº Gestion des r√©servations de produits structur√©s</h2>

<h3>Consulter les r√©servations</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Produits R√©serv√©s"</li>
    <li><strong>Filtres disponibles</strong> :
        <ul>
            <li><strong>Toutes</strong> : Toutes les r√©servations</li>
            <li><strong>En attente</strong> : R√©servations en attente d'approbation</li>
            <li><strong>Approuv√©es</strong> : R√©servations approuv√©es</li>
            <li><strong>Rejet√©es</strong> : R√©servations rejet√©es</li>
        </ul>
    </li>
</ol>

<h3>Approuver une r√©servation</h3>

<ol>
    <li>Trouvez la r√©servation dans la liste (statut "En attente")</li>
    <li>V√©rifiez que le montant disponible est suffisant</li>
    <li>Cliquez sur "‚úÖ Approuver"</li>
    <li>La r√©servation est approuv√©e</li>
    <li>Le montant disponible est d√©duit automatiquement</li>
    <li>L'utilisateur re√ßoit un email de confirmation</li>
</ol>

<h3>Rejeter une r√©servation</h3>

<ol>
    <li>Trouvez la r√©servation dans la liste</li>
    <li>Cliquez sur "‚ùå Rejeter"</li>
    <li>Entrez une raison de rejet (optionnel mais recommand√©)</li>
    <li>Confirmez le rejet</li>
    <li>L'utilisateur re√ßoit un email avec la raison du rejet</li>
</ol>

<hr>

<h2>üìä Gestion Comptabilit√©</h2>

<h3>Upload de bordereaux</h3>

<h4>Upload en masse</h4>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "Gestion" ‚Üí "Comptabilit√©" ‚Üí "Upload en masse"</li>
    <li><strong>Processus</strong> :
        <ul>
            <li>S√©lectionnez plusieurs fichiers PDF</li>
            <li>S√©lectionnez la date d'affichage (pour tous les fichiers)</li>
            <li>Les fichiers sont upload√©s automatiquement</li>
            <li>Chaque utilisateur re√ßoit un email pour son bordereau mensuel</li>
        </ul>
    </li>
    <li><strong>Convention de nommage recommand√©e</strong> :
        <pre><code>Format : [Nom]_[Prenom]_[Mois]_[Annee].pdf
Exemple : Dupont_Jean_01_2025.pdf</code></pre>
    </li>
</ol>

<hr>

<h2 id="notifications">üîî Gestion des notifications</h2>

<h3>Envoyer une notification globale</h3>

<ol>
    <li><strong>Acc√®s</strong> : Menu Admin ‚Üí "CMS" ‚Üí "Notifications"</li>
    <li><strong>Formulaire</strong> :
        <ul>
            <li>Type : Information, Succ√®s, Avertissement, Erreur, Annonce</li>
            <li>Titre : Titre de la notification</li>
            <li>Message : Contenu de la notification</li>
            <li>Lien : (optionnel) Lien externe ou interne (ex: #produits-structures)</li>
        </ul>
    </li>
    <li><strong>Types de liens</strong> :
        <ul>
            <li><strong>Lien externe</strong> : Commence par <code>http://</code> ou <code>https://</code></li>
            <li><strong>Lien interne</strong> : Commence par <code>#</code> (ex: <code>#produits-structures</code>)</li>
        </ul>
    </li>
    <li><strong>Envoi</strong> :
        <ul>
            <li>Cliquez sur "Envoyer √† tous les utilisateurs"</li>
            <li>La notification est imm√©diatement visible pour tous les utilisateurs</li>
        </ul>
    </li>
</ol>

<hr>

<h2 id="maintenance">üîß Maintenance</h2>

<h3>Vider la base de donn√©es</h3>

<div class="warning">
<p><strong>‚ö†Ô∏è ATTENTION</strong> : Cette op√©ration supprime toutes les donn√©es sauf les utilisateurs admin. Elle est irr√©versible !</p>
</div>

<ol>
    <li><strong>Script disponible</strong> : <code>backend/scripts/emptyDatabase.js</code></li>
    <li><strong>Ex√©cution</strong> :
        <pre><code>docker exec -it alliance-courtage-backend node scripts/emptyDatabase.js</code></pre>
    </li>
    <li><strong>Ce qui est supprim√©</strong> :
        <ul>
            <li>Tous les favoris</li>
            <li>Toutes les notifications</li>
            <li>Tous les documents financiers</li>
            <li>Toutes les formations</li>
            <li>Tous les bordereaux</li>
            <li>Toutes les r√©servations</li>
            <li>Toutes les archives</li>
            <li>Tous les partenaires</li>
            <li>Tout le contenu CMS</li>
            <li>Tous les utilisateurs non-admin</li>
        </ul>
    </li>
    <li><strong>Ce qui est conserv√©</strong> :
        <ul>
            <li>Les utilisateurs admin</li>
            <li>La structure des tables (sch√©ma de base de donn√©es)</li>
        </ul>
    </li>
</ol>

<h3>Backup de la base de donn√©es</h3>

<ol>
    <li><strong>Commande de backup</strong> :
        <pre><code>docker exec alliance-courtage-mysql mysqldump -u root -p[PASSWORD] alliance_courtage > backup_$(date +%Y%m%d_%H%M%S).sql</code></pre>
    </li>
    <li><strong>Restauration</strong> :
        <pre><code>docker exec -i alliance-courtage-mysql mysql -u root -p[PASSWORD] alliance_courtage < backup_YYYYMMDD_HHMMSS.sql</code></pre>
    </li>
</ol>

<hr>

<h2>‚úÖ Checklist de maintenance mensuelle</h2>

<ul class="checklist">
    <li>V√©rifier les logs d'erreurs</li>
    <li>Faire un backup de la base de donn√©es</li>
    <li>V√©rifier l'espace disque disponible</li>
    <li>V√©rifier les formations en attente</li>
    <li>V√©rifier les r√©servations en attente</li>
    <li>Envoyer les bordereaux mensuels</li>
    <li>V√©rifier les notifications non lues</li>
    <li>Mettre √† jour le contenu CMS si n√©cessaire</li>
    <li>V√©rifier les utilisateurs inactifs</li>
    <li>V√©rifier la s√©curit√© (mots de passe, sessions)</li>
</ul>

<hr>

<p><strong>Derni√®re mise √† jour</strong> : [Date]</p>

<p><strong>Version du document</strong> : 1.0</p>

<p>Pour toute question technique, consultez la documentation technique ou contactez le support d√©veloppeur.</p>

</body>
</html>


